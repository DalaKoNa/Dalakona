<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Receive an Item – DalaKoNa</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Inter', sans-serif;
      margin: 0;
      background: #fffaf7;
      padding: 1rem;
    }
    .container {
      max-width: 600px;
      margin: auto;
      background: white;
      padding: 2rem;
      border-radius: 16px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    }
    h1 {
      font-size: 1.5rem;
      color: #008060;
      margin-bottom: 1rem;
    }
    label {
      font-weight: 600;
      display: block;
      margin-top: 1rem;
    }
    input, select, textarea {
      width: 100%;
      padding: 0.7rem;
      border: 1px solid #ccc;
      border-radius: 8px;
      margin-top: 0.3rem;
    }
    button {
      background: #008060;
      color: white;
      padding: 0.8rem 1.2rem;
      border: none;
      border-radius: 8px;
      margin-top: 1.5rem;
      cursor: pointer;
      font-size: 1rem;
    }
    .terms {
      font-size: 0.85rem;
      color: #555;
      margin-top: 1.5rem;
    }
    .total {
      font-weight: bold;
      margin-top: 1rem;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>📥 Receive an Item</h1>

    <label>Pickup Barangay (Sadiin Kuhaon)</label>
    <select id="pickup-barangay" onchange="updateFee()">
      <option value="Handumanan">Handumanan</option>
      <option value="Cabug">Cabug</option>
      <option value="Felisa">Felisa</option>
      <option value="Alijis">Alijis</option>
      <option value="Mansilingan">Mansilingan</option>
    </select>

    <label>Pickup Location Details (Address / Landmark)</label>
    <textarea id="pickup-details"></textarea>

    <label>Delivery Address (Diin Dad-on)</label>
    <textarea id="delivery-address"></textarea>

    <label>Item Description</label>
    <input id="item-description" type="text" />

    <div class="total">Service Fee: ₱<span id="fee">39</span></div>

    <button onclick="submitReceiveOrder()">✅ Confirm via WhatsApp</button>

    <div class="terms">
      📦 Maximum weight: 4kg<br>
      🔍 We reserve the right to inspect items for safety.<br>
      <em>📦 Indi dapat magsobra 4kg. May katungdanan kami mag-usisa sang sulod sang item para sa seguridad.</em>
    </div>
  </div>

  <script>
    const feeMap = {
      Handumanan: 39,
      Cabug: 49,
      Felisa: 59,
      Alijis: 59,
      Mansilingan: 59
    };

    function updateFee() {
      const b = document.getElementById('pickup-barangay').value;
      document.getElementById('fee').innerText = feeMap[b];
    }

    function submitReceiveOrder() {
      const barangay = document.getElementById('pickup-barangay').value;
      const pickup = document.getElementById('pickup-details').value.trim();
      const delivery = document.getElementById('delivery-address').value.trim();
      const item = document.getElementById('item-description').value.trim();
      const fee = feeMap[barangay];

      if (!pickup || !delivery || !item) {
        alert("Please fill out all fields.");
        return;
      }

      const msg = `📥 Receive Item Request\n\n📍 Pickup Barangay: ${barangay}\n📍 Pickup Details: ${pickup}\n📦 Item: ${item}\n🏠 Delivery Address: ${delivery}\n💰 Fee: ₱${fee}\n\nConfirmed via DalaKoNa 🚲`;

      const encoded = encodeURIComponent(msg);

      const customerLink = `https://wa.me/63XXXXXXXXXX?text=${encoded}`;
      const driverLink = `https://wa.me/63YYYYYYYYYY?text=${encoded}`;
      const adminLink = `https://wa.me/63ZZZZZZZZZZ?text=${encoded}`;

      window.open(customerLink);
      window.open(driverLink);
      window.open(adminLink);
    }
  </script>
</body>
</html>
