<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pickup Summary ‚Äì DalaKoNa</title>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #fff9e6;
      margin: 0;
      padding: 2rem;
      color: #333;
    }
    .summary-container {
      max-width: 600px;
      margin: auto;
      background: #fff;
      border: 2px solid #008060;
      border-radius: 16px;
      padding: 2rem;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
    }
    h2 {
      font-family: 'Cinzel', serif;
      color: #008060;
      margin-top: 0;
    }
    p {
      line-height: 1.5;
    }
    .highlight {
      font-weight: bold;
    }
    .button {
      background-color: #008060;
      color: white;
      padding: 0.75rem 1.5rem;
      text-decoration: none;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
      margin-top: 1rem;
    }
    .cancel-button {
      background-color: #d9534f;
      margin-left: 1rem;
    }
    .summary-item {
      margin: 0.3rem 0;
    }
    #cancelMsg {
      margin-top: 1rem;
      color: #555;
    }
  </style>
</head>
<body>
  <div class="summary-container">
    <h2>üßæ Pickup Request Summary</h2>

    <p class="summary-item"><span class="highlight">Customer Name:</span> Juan Dela Cruz</p>
    <p class="summary-item"><span class="highlight">Contact:</span> 0917-123-4567</p>
    <p class="summary-item"><span class="highlight">From Area:</span> Handumanan</p>
    <p class="summary-item"><span class="highlight">To Area:</span> Alijis</p>
    <p class="summary-item"><span class="highlight">Pickup Location:</span> 7-Eleven Handumanan</p>
    <p class="summary-item"><span class="highlight">Exact Pickup Address:</span> Gate 1, Felisa Road</p>
    <p class="summary-item"><span class="highlight">Delivery Location:</span> Blk 3 Lot 8, Alijis</p>
    <p class="summary-item"><span class="highlight">Exact Delivery Address:</span> Zone 5, Brgy. Alijis</p>
    <p class="summary-item"><span class="highlight">Item Description:</span> Grocery Package</p>
    <p class="summary-item"><span class="highlight">Pickup Date:</span> June 25, 2025</p>
    <p class="summary-item"><span class="highlight">Auto-assigned Pickup Time:</span> ~1:30 from request</p>
    <p class="summary-item"><span class="highlight">Estimated Drop-off Time:</span> ~1h 10m</p>
    <p class="summary-item"><span class="highlight">Estimated Fee:</span> ‚Ç±78.00</p>

    <div id="cancelMsg">‚è±Ô∏è You have 2 minutes to cancel this request.</div>

    <button class="button" onclick="window.location.href='https://wa.me/63XXXXXXXXXX?text=Confirmed%20Pickup:%20Handumanan%20to%20Alijis%20-%20Grocery%20Package.%20Fee:%20PHP%2078.%20Pickup%20at%207-Eleven%20Handumanan.%20Thanks!'">
      ‚úÖ Send to WhatsApp
    </button>
    <button id="cancelBtn" class="button cancel-button" onclick="cancelRequest()">
      ‚ùå Cancel Request
    </button>

    <p style="font-size: 0.9rem; color: #888; margin-top: 2rem;">
      ‚ö†Ô∏è <strong>Cash on Delivery</strong> orders must be paid in full upon delivery. Exact change preferred. If you cancel within 2 minutes, no charges will apply. After that, rider assignment will proceed.
    </p>
  </div>

  <script>
    setTimeout(() => {
      const cancelBtn = document.getElementById("cancelBtn");
      if (cancelBtn) {
        cancelBtn.disabled = true;
        cancelBtn.innerText = "‚ùå Cancel Unavailable (Request Locked)";
        cancelBtn.style.backgroundColor = "#ccc";
      }
      const cancelMsg = document.getElementById("cancelMsg");
      if (cancelMsg) {
        cancelMsg.innerHTML = "<strong>‚úÖ Request locked. Rider will be notified.</strong>";
      }
    }, 2 * 60 * 1000); // 2 minutes

    setTimeout(() => {
      alert("‚úÖ Request complete. Returning to homepage.");
      window.location.href = "index.html";
    }, 5 * 60 * 1000); // auto-redirect in 5 minutes

    function cancelRequest() {
      const confirmCancel = confirm("Are you sure you want to cancel this pickup request?");
      if (confirmCancel) {
        document.getElementById("cancelMsg").innerHTML =
          "<strong>‚ùå Your request has been canceled.</strong><br>Please try again or contact support.";
        const btn = document.getElementById("cancelBtn");
        btn.disabled = true;
        btn.style.backgroundColor = "#ccc";
      }
    }
  </script>
</body>
</html>
